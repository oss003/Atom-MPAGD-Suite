
DEFINEWINDOW    0 0 21 30

DEFINEMESSAGES
    "GAME OVER"
    "GET READY"
    "          The Bathroom"
    "JS Willy"
    "Maria"
    " wins!"

DEFINEFONT      0 0 0 0 0 0 0 0
                0 48 48 48 48 0 48 0
                0 108 108 0 0 0 0 0
                0 108 254 108 108 254 108 0
                0 24 126 120 126 30 126 24
                0 230 236 24 48 110 206 0
                0 48 120 48 126 204 126 0
                0 24 48 0 0 0 0 0
                0 12 24 24 24 24 12 0
                0 96 48 48 48 48 96 0
                0 0 60 24 126 24 60 0
                0 0 24 24 126 24 24 0
                0 0 0 0 0 24 24 48
                0 0 0 0 126 0 0 0
                0 0 0 0 0 56 56 0
                0 0 6 12 24 48 96 0
                0 124 206 222 246 230 124 0
                0 56 120 24 24 24 126 0
                0 124 198 6 124 192 254 0
                0 124 198 28 6 198 124 0
                0 24 56 120 216 254 24 0
                0 254 192 252 6 198 124 0
                0 124 192 252 198 198 124 0
                0 254 6 12 24 48 48 0
                0 124 198 124 198 198 124 0
                0 124 198 198 126 6 124 0
                0 0 0 48 0 0 48 0
                0 0 48 0 0 48 48 96
                0 0 12 24 48 24 12 0
                0 0 0 126 0 126 0 0
                0 0 48 24 12 24 48 0
                0 124 198 12 24 0 24 0
                0 124 222 254 254 192 124 0
                0 124 198 198 254 198 198 0
                0 252 198 252 198 198 252 0
                0 124 198 192 192 198 124 0
                0 248 204 198 198 204 248 0
                0 254 192 252 192 192 254 0
                0 254 192 252 192 192 192 0
                0 124 198 192 222 198 124 0
                0 198 198 254 198 198 198 0
                0 126 24 24 24 24 126 0
                0 6 6 6 198 198 124 0
                0 204 216 240 216 204 198 0
                0 192 192 192 192 192 254 0
                0 198 238 254 198 198 198 0
                0 198 230 246 222 206 198 0
                0 124 198 198 198 198 124 0
                0 252 198 198 252 192 192 0
                0 124 198 198 246 222 124 0
                0 252 198 198 252 204 198 0
                0 124 192 124 6 198 124 0
                0 254 48 48 48 48 48 0
                0 198 198 198 198 198 124 0
                0 198 198 198 198 108 56 0
                0 198 198 198 198 254 108 0
                0 198 108 56 56 108 198 0
                0 134 204 120 48 48 48 0
                0 254 12 24 48 96 254 0
                0 30 24 24 24 24 30 0
                0 0 192 96 48 24 12 0
                0 240 48 48 48 48 240 0
                0 48 120 252 48 48 48 0
                0 0 0 0 0 0 0 255
                0 60 102 248 96 96 254 0
                0 0 120 12 124 204 124 0
                0 96 96 124 102 102 124 0
                0 0 60 96 96 96 60 0
                0 12 12 124 204 204 124 0
                0 0 120 204 248 192 124 0
                0 28 48 56 48 48 48 0
                0 0 124 204 204 124 12 120
                0 192 192 248 204 204 204 0
                0 48 0 112 48 48 120 0
                0 12 0 12 12 12 108 56
                0 96 120 112 112 120 108 0
                0 48 48 48 48 48 28 0
                0 0 248 252 252 252 252 0
                0 0 248 204 204 204 204 0
                0 0 120 204 204 204 120 0
                0 0 248 204 204 248 192 192
                0 0 124 204 204 124 12 14
                0 0 60 96 96 96 96 0
                0 0 120 192 120 12 248 0
                0 48 120 48 48 48 28 0
                0 0 204 204 204 204 120 0
                0 0 204 204 120 120 48 0
                0 0 204 252 252 252 120 0
                0 0 204 120 48 120 204 0
                0 0 204 204 204 124 12 120
                0 0 252 24 48 96 252 0
                0 30 24 112 24 24 30 0
                0 24 24 24 24 24 24 0
                0 240 48 28 48 48 240 0
                0 60 120 0 0 0 0 1
                31 0 237 120 50 38 125 201

DEFINEBLOCK     EMPTYBLOCK
                0 0 0 0 0 0 0 0
                71

DEFINEBLOCK     WALLBLOCK
                0 64 9 100 146 45 150 255
                86

DEFINEBLOCK     WALLBLOCK
                31 170 0 85 248 85 0 170
                78

DEFINEBLOCK     CUSTOMBLOCK
                3 0 12 0 48 0 192 0
                71

DEFINEBLOCK     WALLBLOCK
                255 255 255 255 255 255 255 255
                71

DEFINEBLOCK     PLATFORMBLOCK
                255 170 85 255 0 0 0 0
                6

DEFINEBLOCK     PLATFORMBLOCK
                128 0 0 0 0 0 0 0
                71


DEFINESPRITE    4
                3 192 3 192 7 224 3 64 3 224 3 192 1 128 3 192
                6 255 7 56 15 224 15 128 3 192 7 96 6 224 7 112

                3 192 3 192 7 224 3 64 3 224 3 192 1 128 3 192
                6 255 7 56 7 224 7 224 3 192 1 128 1 128 1 192

                3 192 3 192 7 224 3 64 3 224 3 192 1 128 3 192
                6 255 7 56 15 224 15 128 3 192 7 96 6 224 7 112

                3 192 3 192 7 224 3 64 3 224 3 192 1 128 3 192
                6 255 15 56 31 224 27 192 3 224 7 104 12 56 14 48

DEFINESPRITE    4
                3 192 3 192 7 224 2 192 7 192 3 192 1 128 3 192
                255 96 28 224 7 240 1 240 3 192 6 224 7 96 14 224

                3 192 3 192 7 224 2 192 7 192 3 192 1 128 3 192
                255 96 28 224 7 224 7 224 3 192 1 128 1 128 3 128

                3 192 3 192 7 224 2 192 7 192 3 192 1 128 3 192
                255 96 28 224 7 240 1 240 3 192 6 224 7 96 14 224

                3 192 3 192 7 224 2 192 7 192 3 192 1 128 3 192
                255 96 28 240 7 248 3 216 7 192 22 224 28 48 12 112

DEFINESPRITE    4
                3 0 3 192 1 224 1 64 1 224 7 128 31 248 63 255
                55 108 52 144 15 240 15 240 15 240 2 64 3 64 0 96

                3 0 3 192 1 224 1 64 1 224 7 128 31 248 63 111
                52 156 55 240 7 240 7 248 7 248 2 32 2 48 3 0

                0 0 3 192 3 224 1 64 1 224 7 128 31 248 63 255
                119 108 100 144 15 240 15 240 31 224 3 64 0 64 0 96

                0 0 3 192 3 224 1 64 1 224 7 128 31 248 31 111
                52 156 55 240 15 240 7 248 7 248 2 96 2 0 3 0

DEFINESPRITE    4
                0 192 3 192 7 128 2 128 7 128 1 224 31 248 255 252
                54 236 9 44 15 240 15 240 15 240 2 64 2 192 6 0

                0 192 3 192 7 128 2 128 7 128 1 224 31 248 246 252
                57 44 15 236 15 224 31 224 31 224 4 64 12 64 0 192

                0 0 3 192 7 192 2 128 7 128 1 224 31 248 255 252
                54 238 9 38 15 240 15 240 7 248 2 192 2 0 6 0

                0 0 3 192 7 192 2 128 7 128 1 224 31 248 246 248
                57 44 15 236 15 240 31 224 31 224 6 64 0 64 0 192

DEFINESPRITE    2
                0 15 0 15 0 63 48 15 12 15 3 15 0 207 0 47
                0 8 63 248 63 248 63 240 31 238 31 223 15 219 15 251

                0 15 0 15 0 63 0 15 0 15 0 15 0 15 63 239
                0 8 63 248 63 248 63 240 31 238 31 223 15 219 15 251

DEFINESPRITE    2
                240 0 240 0 252 0 240 12 240 48 240 192 243 0 244 0
                16 0 31 252 31 252 15 252 119 248 251 248 219 240 223 240

                240 0 240 0 252 0 240 0 240 0 240 0 240 0 247 252
                16 0 31 252 31 252 15 252 119 248 251 248 219 240 223 240

DEFINESPRITE    4
                3 192 6 224 10 112 10 80 7 112 10 48 6 32 2 192
                3 64 4 96 12 80 14 224 10 80 14 80 7 96 3 192

                0 0 0 0 0 44 0 82 0 255 0 17 0 131 0 159
                13 118 17 188 49 64 59 128 41 64 57 64 29 128 15 0

                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                52 52 70 70 197 197 238 238 165 165 229 101 118 118 60 60

                0 0 0 0 60 0 110 0 249 0 193 0 136 0 255 0
                74 208 53 24 3 20 3 184 2 148 3 148 1 216 0 240


DEFINESCREEN      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   1   1   1   1   1   1   1   1   0   0   0   0   0   1   1   1   1   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   0   0   1
                  2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  1   1   1   1   1   1   1   1   1   1   1   1   1   0   0   0   0   3   1   1   1   1   1   1   1   1   1   1   1   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   3   6   1   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   3   6   0   1   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   0   3   6   0   0   1   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   0   3   6   0   0   0   1   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   0   0   0   3   6   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   1
                  1   0   0   0   0   0   0   0   0   1   1   1   6   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   1
                  2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1
                  2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   4   4   4   0   0   0   0   0   1
                  1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
SPRITEPOSITION  0 0 32 8
SPRITEPOSITION  0 3 144 216
SPRITEPOSITION  3 5 144 8
SPRITEPOSITION  3 6 72 216

DEFINEOBJECT    71 254 56 120
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0


MAP             WIDTH 11
                STARTSCREEN 255
                255 255 255 255   0 255 255 255 255 255 255
ENDMAP



EVENT PLAYER
SPRITEINK 7
LET K = 0
;IF COLLISION 10
;    LET K = 1
;ENDIF
IF COLLISION 3
    LET K = 1
ENDIF
IF K = 1
    IF SETTINGA = 0
        IF E = 0
            EXPLODE 8
            SOUND 0
;            STOPFALL
            SUBTRACT 1 FROM S
            IF S > 0
                LET LINE 23
                LET COLUMN 3
                DISPLAY S
            ELSE
                ENDSPRITE
                REMOVE
                LET Y 200
                LET LINE 0
                LET COLUMN 10
                MESSAGE 4
                LET LINE 0
                LET COLUMN 15
                MESSAGE 5
                DELAY 100
                ENDGAME
            ENDIF
            LET Y 200
            LET X 16
            LET E 60
        ENDIF
    ELSE
        IF F = 0
            EXPLODE 8
            SOUND 0
            SUBTRACT 1 FROM T
;            STOPFALL
            IF T > 0
                LET LINE 23
                LET COLUMN 27
                DISPLAY T
            ELSE
                ENDSPRITE
                LET Y 200
                LET LINE 0
                LET COLUMN 9
                MESSAGE 3
                LET LINE 0
                LET COLUMN 17
                MESSAGE 5
                DELAY 100
                ENDGAME
            ENDIF
            LET Y 200
            LET X 216
            LET F 60
        ENDIF
    ENDIF
ENDIF
LET K = 0
IF C = 0
    IF SETTINGA = 0
        IF E > 0
            SUBTRACT 1 FROM E
        ENDIF
        IF E = 30
            LET Y 24
        ENDIF
    ELSE
        IF F > 0
            SUBTRACT 1 FROM F
        ENDIF
        IF F = 30
            LET Y 142
        ENDIF
    ENDIF
ENDIF
LET IMAGE SETTINGA
MULTIPLY IMAGE BY 2
ADD DIRECTION TO IMAGE
LET K J
IF SETTINGB > 0
    SUBTRACT 1 FROM SETTINGB
ENDIF
IF 200 > Y
    DIVIDE K BY 2
    MULTIPLY K BY 2
    SUBTRACT K FROM J
    IF SETTINGA = 1
        LET L J
    ELSE
        LET L 0
        IF KEY RIGHT
            LET L 1
        ENDIF
    ENDIF
    IF L = 1
        IF CANGORIGHT
            ADD 2 TO X
        ENDIF
        LET DIRECTION 0
        IF C = 0
            ANIMATE
        ENDIF
        IF CUSTOM
            SUBTRACT 3 FROM Y
        ENDIF
    ENDIF
    DIVIDE K BY 2
    LET J K
    DIVIDE K BY 2
    MULTIPLY K BY 2
    SUBTRACT K FROM J
    IF SETTINGA = 1
        LET L J
    ELSE
        LET L 0
        IF KEY LEFT
            LET L 1
        ENDIF
    ENDIF
    IF L = 1
        IF CANGOLEFT
            SUBTRACT 2 FROM X
        ENDIF
        IF C = 0
            ANIMATE
        ENDIF
        LET DIRECTION 1
    ENDIF
    DIVIDE K BY 2
    LET J K
    DIVIDE K BY 2
    MULTIPLY K BY 2
    SUBTRACT K FROM J
    IF SETTINGA = 1
        LET L J
    ELSE
        LET L 0
        IF KEY DOWN
            LET L 1
        ENDIF
    ENDIF
    IF L = 1
    ENDIF
    DIVIDE K BY 2
    LET J K
    DIVIDE K BY 2
    MULTIPLY K BY 2
    SUBTRACT K FROM J
    IF SETTINGA = 1
        LET L J
    ELSE
        LET L 0
        IF KEY UP
            LET L 1
        ENDIF
    ENDIF
    IF L = 1
        JUMP 7
    ENDIF
    DIVIDE K BY 2
    LET J K
    DIVIDE K BY 2
    MULTIPLY K BY 2
    SUBTRACT K FROM J
    IF SETTINGA = 1
        LET L J
    ELSE
        LET L 0
        IF KEY FIRE
            LET L 1
        ENDIF
    ENDIF
    IF L = 1
        IF SETTINGB = 0
            SOUND 1
            ADD 1 TO DIRECTION
            LASER DIRECTION
            SUBTRACT 1 FROM DIRECTION
            LET SETTINGB = 20
        ENDIF
    ENDIF
    IF CUSTOM
    ELSE
        FALL
    ENDIF
ENDIF
IF SETTINGA = 0
    IF E > 0
        GETRANDOM 6
        ADD 1 TO RND
        SPRITEINK RND
    ENDIF
ELSE
    IF F > 0
        GETRANDOM 6
        ADD 1 TO RND
        SPRITEINK RND
    ENDIF
ENDIF


EVENT SPRITETYPE1


EVENT SPRITETYPE2


EVENT SPRITETYPE3
IF IMAGE = 6
    SPRITEINK 7
ENDIF
IF C = 0
    IF DIRECTION = 0
        ANIMATE
    ELSE
        ANIMBACK
    ENDIF
ENDIF
IF DIRECTION = 0
    IF CANGORIGHT
        SPRITERIGHT
    ELSE
        LET DIRECTION 1
        IF IMAGE = 5
            LET IMAGE 4
        ENDIF
    ENDIF
ENDIF
IF DIRECTION = 1
    IF CANGOLEFT
        SPRITELEFT
    ELSE
        LET DIRECTION 0
        IF IMAGE = 4
            LET IMAGE 5
        ENDIF
    ENDIF
ENDIF
IF IMAGE = 6
    SPRITEINK 4
ENDIF


EVENT SPRITETYPE4


EVENT SPRITETYPE5


EVENT SPRITETYPE6


EVENT SPRITETYPE7


EVENT SPRITETYPE8


EVENT INITSPRITE
IF TYPE = 0
    LET SETTINGA = J
    LET SETTINGB = 0
    ADD 1 TO J
ENDIF


EVENT MAINLOOP1
ADD 1 TO C
IF C = 4
    LET C = 0
ENDIF


EVENT MAINLOOP2


EVENT INTROMENU


EVENT GAMEINIT
LET J = 0
LET C = 0
LET S = 8
LET T = 8


EVENT RESTARTSCREEN
LET E = 0
LET F = 0
LET LINE 21
LET COLUMN 0
IF SCREEN = 0
    MESSAGE 2
ENDIF
LET LINE 22
LET COLUMN 0
MESSAGE 3
LET LINE 23
LET COLUMN 3
DISPLAY S
LET LINE 22
LET COLUMN 24
MESSAGE 4
LET LINE 23
LET COLUMN 27
DISPLAY T


EVENT FELLTOOFAR
IF TYPE = 0
ENDIF


EVENT KILLPLAYER
SOUND 0
; FADE
SUBTRACT 1 FROM LIVES


EVENT LOSTGAME
DELAY 50


EVENT COMPLETEDGAME
; FADE
DELAY 50


EVENT NEWHIGHSCORE

EVENT COLLECTBLOCK
